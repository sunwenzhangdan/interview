<!--
 * @Date: 2021-10-25 14:02:47
 * @LastEditors: seven sun 
 * @LastEditTime: 2021-10-27 10:00:52
 * @FilePath: /interview/操作系统/文件系统/文件系统架构.md
-->

操作系统将这些存储设备抽象为块设备，块设备上的存储空间在逻辑上被划分为固定大小的存储块，块石块设备读写的最小单元，大小一般为512字节或4kb,每个存储块均有一个地址，称为

超级块 文件系统的心脏
如果说inode是unix系统中文件的核心,那么超级块就是文件系统的心脏，启动unix系统后，发现某个文件系统无法使用，很有可能是超级块出现了问题,为什么超级块有这么大的作用呢，主要是因为超级块中保存了全局文件信息，有磁盘已用空间，数据块可用空间，inode节点信息等，超级块就像是企业的资产负债表，一个文件系统中有哪些资源都记录在这个表中。

当操作系统启动后，系统内核会把超级块中的内容复制到内存中，并周期性的利用内存里的最新内容更新硬盘傻姑娘的超级块中的内存，由于这个更新存在一个时间差，为此内存中的超级快信息与磁盘


磁盘  通过磁性来永久性存储
磁道  一个圈  一个环
柱面 所有的磁道构成的圆面
扇区 存储的最小单位 占用面积不一样 512字节 
簇   虚拟的概念 提高速度
操作系统对磁盘抽象为物理块  就是4kb的块

空闲管理 
链表管理
位图管理 0 1表示占用未占用


文件系统布局
引导块 块组 块组
 超级快  组描述符 块位图 i节点位图 i节点  数据块

 开机加载bois 引导块 从0位开始加载操作系统
 魔数 就是一些有意义的数字
 vfs 对文件系统接口标准化 posix标准
 创建并设置属性 create  
 delete
 open 打开并将地址载入内存
 close  关闭
 read 读取当前位置 
 write  写入当前位置
 append 追加
 seek 改变当前位置
 获取属性
 设置属性
 重命名 rename


 文件的实现方法
 连续分配 文件分成若干块 在磁盘连续  碎片严重
 文件分成多个节点 用链表串起来
 在磁盘上连续分配 文件1 -〉文件2 -〉 文件2
 fat方式






